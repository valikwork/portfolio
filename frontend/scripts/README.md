# Strapi Type Generator

This script automatically generates TypeScript interfaces from your Strapi schemas and components.

## Features

✅ **Automatic Type Generation** - Scans all Strapi schemas and components
✅ **Proper PascalCase Naming** - Converts kebab-case to PascalCase (e.g., `social-link` → `SocialLink`)
✅ **Full Type Safety** - Includes base Strapi types and relationship handling
✅ **Response Type Generation** - Creates specific response types for each content type
✅ **Component Support** - Handles all Strapi components with proper nesting

## Usage

### Generate Types Once

```bash
npm run generate-types
```

### Watch Mode (for development)

```bash
npm run generate-types:watch
```

## Generated Types Structure

The generator creates types for:

### Base Strapi Types

- `StrapiMedia` - Media/file objects
- `StrapiRelation<T>` - Single relations
- `StrapiCollection<T>` - Collection relations
- `StrapiResponse<T>` - API response wrapper
- `StrapiCollectionResponse<T>` - Collection API response
- `StrapiSingleTypeResponse<T>` - Single type API response

### Content Types

All your Strapi content types (Article, Page, Global, etc.)

### Components

All your Strapi components organized by category:

- `ElementsFeatureColumn`
- `LayoutNavbar`
- `LinksSocialLink`
- etc.

### Response Types

Specific response types for each content type:

- `GlobalResponse` (for single types)
- `ArticleResponse` & `ArticleSingleResponse` (for collection types)

## Example Usage

```typescript
import type { GlobalResponse, ArticleResponse } from "./types/generated-strapi";

// Fetch global data
async function getGlobal(): Promise<GlobalResponse> {
  const response = await fetchAPI("/global");
  return response;
}

// Fetch articles
async function getArticles(): Promise<ArticleResponse> {
  const response = await fetchAPI("/articles");
  return response;
}

// Type-safe access
const global = await getGlobal();
if (global.data) {
  const { navbar, footer } = global.data.attributes;
  // Full IntelliSense support here!
}
```

## When to Regenerate

Run the generator whenever you:

- Add new content types in Strapi
- Modify existing content type schemas
- Add or modify components
- Change field types or relationships

## File Output

Generated types are written to: `app/[lang]/types/generated-strapi.ts`

⚠️ **Do not edit this file manually** - it will be overwritten on the next generation.

## Naming Conventions

| Strapi Name               | Generated Interface     |
| ------------------------- | ----------------------- |
| `api::article.article`    | `Article`               |
| `layout.navbar`           | `LayoutNavbar`          |
| `links.social-link`       | `LinksSocialLink`       |
| `elements.feature-column` | `ElementsFeatureColumn` |
| `lead-form-submission`    | `LeadFormSubmission`    |

The generator automatically:

- Converts kebab-case to PascalCase
- Handles dots and hyphens properly
- Creates valid TypeScript interface names
